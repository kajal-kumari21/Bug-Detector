<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Advanced Bug Tracker</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">

  <!-- Font Awesome for Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    integrity="sha512-p1fq1EzlZpVj1eNnYxZ2gIPJqQm3Bk8jA6/Sm3xTPG/QPNBw1E6EXlNCO3OzmkbWcXG4UqJdLhGxxy1QkXqdNg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- Custom CSS -->
  <link rel="stylesheet" href="./style2.css">
</head>

<body>
  <!-- Navbar -->
  <nav class="navbar">
    <div class="navbar-container">
      <!-- Logo -->
      <div class="navbar-logo">
        <a href="#"><i class="fas fa-bug"></i> Bug Tracker</a>
      </div>

      <!-- Toggle for Mobile Menu -->
      <div class="navbar-toggle" id="mobile-menu">
        <i class="fas fa-bars"></i>
      </div>

      <!-- Navbar Links -->
      <ul class="navbar-menu">
        <li class="navbar-item">
          <a href="#dashboardSection" class="navbar-link">Dashboard</a>
        </li>
        <li class="navbar-item">
          <a href="#addBugSection" class="navbar-link">Add Bug</a>
        </li>
        <li class="navbar-item">
          <a href="#reportsSection" class="navbar-link">Reports</a>
        </li>
        <li class="navbar-item">
          <a href="#settingsSection" class="navbar-link">Settings</a>
        </li>
        <li class="navbar-item">
          <label class="toggle-container">
            <input type="checkbox" id="darkModeToggle">
            <span class="toggle-switch"></span>
            <span class="toggle-label">Dark Mode</span>
          </label>
        </li>
      </ul>
    </div>
  </nav>

  <div class="container">
    <!-- Header -->
    <header class="header mt-4">
      <h1>Code Inspector</h1>
      <p>Your efficient bug tracking solution.</p>
    </header>

    <!-- Dashboard Section -->
    <section id="dashboardSection" class="dashboard-section mb-5">
      <h2><i class="fas fa-tachometer-alt"></i> Dashboard</h2>
      <div class="dashboard-cards">
        <div class="dashboard-card">
          <h3>Total Bugs</h3>
          <p id="totalBugs">0</p>
        </div>
        <div class="dashboard-card">
          <h3>Open Bugs</h3>
          <p id="openBugs">0</p>
        </div>
        <div class="dashboard-card">
          <h3>In Progress</h3>
          <p id="inProgressBugs">0</p>
        </div>
        <div class="dashboard-card">
          <h3>Resolved Bugs</h3>
          <p id="resolvedBugs">0</p>
        </div>
      </div>
    </section>

    <!-- Add Bug Section -->
    <section id="addBugSection" class="jumbotron">
      <h3><i class="fas fa-plus-circle"></i> Add New Bug:</h3>
      <form id="issueInputForm">
        <!-- Title Field -->
        <div class="form-group">
          <label for="issueTitle">Title</label>
          <input type="text" id="issueTitle" placeholder="Bug title ..." required>
        </div>

        <!-- Description Field -->
        <div class="form-group">
          <label for="issueDescription">Description</label>
          <textarea id="issueDescription" placeholder="Describe the bug ..." required></textarea>
        </div>

        <!-- Severity Select -->
        <div class="form-group">
          <label for="issueSeverity">Severity</label>
          <select id="issueSeverity" required>
            <option value="" disabled selected>Select severity</option>
            <option value="Low">Low</option>
            <option value="Medium">Medium</option>
            <option value="High">High</option>
            <option value="Critical">Critical</option>
          </select>
        </div>

        <!-- Priority Select -->
        <div class="form-group">
          <label for="issuePriority">Priority</label>
          <select id="issuePriority" required>
            <option value="" disabled selected>Select priority</option>
            <option value="Low">Low</option>
            <option value="Medium">Medium</option>
            <option value="High">High</option>
          </select>
        </div>

        <!-- Steps to Reproduce Field -->
        <div class="form-group">
          <label for="issueSteps">Steps to Reproduce</label>
          <textarea id="issueSteps" placeholder="Steps to reproduce the bug ..." required></textarea>
        </div>

        <!-- Environment Field -->
        <div class="form-group">
          <label for="issueEnvironment">Environment</label>
          <input type="text" id="issueEnvironment" placeholder="e.g., Windows 10, Chrome 89 ..." required>
        </div>

        <!-- Assigned To Field -->
        <div class="form-group">
          <label for="issueAssignedTo">Assigned To</label>
          <input type="text" id="issueAssignedTo" placeholder="Enter responsible ..." required>
        </div>

        <!-- Submit Button -->
        <button type="submit"><i class="fas fa-paper-plane"></i> Add Bug</button>
      </form>
    </section>

    <!-- Reports Section -->
    <section id="reportsSection" class="reports-section mb-5">
      <h2><i class="fas fa-chart-line"></i> Reports</h2>
      <p>Coming soon! Generate insightful reports on your bug tracking data.</p>
      <!-- Placeholder for future reports functionality -->
    </section>

    <!-- Settings Section -->
    <section id="settingsSection" class="settings-section mb-5">
      <h2><i class="fas fa-cog"></i> Settings</h2>
      <form id="settingsForm">
        <div class="form-group">
          <label for="username">Username</label>
          <input type="text" id="username" placeholder="Enter your username" required>
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" placeholder="Enter your email" required>
        </div>

        <!-- Additional settings fields can be added here -->

        <button type="submit"><i class="fas fa-save"></i> Save Settings</button>
      </form>
    </section>

    <!-- Search and Filter Section -->
    <section class="search-filter">
      <!-- Search Input -->
      <input type="text" id="searchInput" placeholder="Search bugs by title or description..." oninput="searchIssues()">

      <!-- Filters Container -->
      <div class="filters">
        <!-- Status Filter Select -->
        <select id="filterStatus" onchange="filterIssues()">
          <option value="" selected>All Statuses</option>
          <option value="Open">Open</option>
          <option value="In Progress">In Progress</option>
          <option value="Resolved">Resolved</option>
          <option value="Closed">Closed</option>
        </select>

        <!-- Severity Filter Select -->
        <select id="filterSeverity" onchange="filterIssues()">
          <option value="" selected>All Severities</option>
          <option value="Low">Low</option>
          <option value="Medium">Medium</option>
          <option value="High">High</option>
          <option value="Critical">Critical</option>
        </select>

        <!-- Priority Filter Select -->
        <select id="filterPriority" onchange="filterIssues()">
          <option value="" selected>All Priorities</option>
          <option value="Low">Low</option>
          <option value="Medium">Medium</option>
          <option value="High">High</option>
        </select>

        <!-- Assigned To Filter Select -->
        <select id="filterAssignedTo" onchange="filterIssues()">
          <option value="" selected>All Assignees</option>
          <!-- Dynamically populated based on existing issues -->
        </select>
      </div>
    </section>

    <!-- Issues List -->
    <section id="issuesList" class="issues-list">
      <!-- Dynamically populated list of issues -->
    </section>

    <!-- Edit Issue Modal -->
    <div id="editModal" class="modal" aria-hidden="true" role="dialog" aria-labelledby="editModalTitle">
      <div class="modal-content">
        <!-- Close Button -->
        <span class="close" onclick="closeModal()">&times;</span>

        <!-- Modal Title -->
        <h3 id="editModalTitle"><i class="fas fa-edit"></i> Edit Bug</h3>

        <!-- Edit Issue Form -->
        <form id="editIssueForm">
          <!-- Hidden Input for Issue ID -->
          <input type="hidden" id="editIssueId">

          <!-- Title Field -->
          <div class="form-group">
            <label for="editIssueTitle">Title</label>
            <input type="text" id="editIssueTitle" required>
          </div>

          <!-- Description Field -->
          <div class="form-group">
            <label for="editIssueDescription">Description</label>
            <textarea id="editIssueDescription" required></textarea>
          </div>

          <!-- Severity Select -->
          <div class="form-group">
            <label for="editIssueSeverity">Severity</label>
            <select id="editIssueSeverity" required>
              <option value="" disabled selected>Select severity</option>
              <option value="Low">Low</option>
              <option value="Medium">Medium</option>
              <option value="High">High</option>
              <option value="Critical">Critical</option>
            </select>
          </div>

          <!-- Priority Select -->
          <div class="form-group">
            <label for="editIssuePriority">Priority</label>
            <select id="editIssuePriority" required>
              <option value="" disabled selected>Select priority</option>
              <option value="Low">Low</option>
              <option value="Medium">Medium</option>
              <option value="High">High</option>
            </select>
          </div>

          <!-- Steps to Reproduce Field -->
          <div class="form-group">
            <label for="editIssueSteps">Steps to Reproduce</label>
            <textarea id="editIssueSteps" required></textarea>
          </div>

          <!-- Environment Field -->
          <div class="form-group">
            <label for="editIssueEnvironment">Environment</label>
            <input type="text" id="editIssueEnvironment" required>
          </div>

          <!-- Assigned To Field -->
          <div class="form-group">
            <label for="editIssueAssignedTo">Assigned To</label>
            <input type="text" id="editIssueAssignedTo" required>
          </div>

          <!-- Status Select -->
          <div class="form-group">
            <label for="editIssueStatus">Status</label>
            <select id="editIssueStatus" required>
              <option value="" disabled selected>Select status</option>
              <option value="Open">Open</option>
              <option value="In Progress">In Progress</option>
              <option value="Resolved">Resolved</option>
              <option value="Closed">Closed</option>
            </select>
          </div>

          <!-- Update Button -->
          <button type="submit"><i class="fas fa-save"></i> Update Bug</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <p>&copy; 2024 Advanced Bug Tracker. All rights reserved.</p>
  </footer>

  <!-- Custom JavaScript -->
  <script src="./main.js"></script>

  <script>
    // Dark Mode Toggle
    const darkModeToggle = document.getElementById('darkModeToggle');
    darkModeToggle.addEventListener('change', () => {
      document.body.classList.toggle('dark-mode', darkModeToggle.checked);
    });

    // Mobile Menu Toggle
    const mobileMenu = document.getElementById('mobile-menu');
    const navbarMenu = document.querySelector('.navbar-menu');

    mobileMenu.addEventListener('click', () => {
      navbarMenu.classList.toggle('active');
      mobileMenu.classList.toggle('active');
    });

    // Close mobile menu when a link is clicked
    const navbarLinks = document.querySelectorAll('.navbar-link');
    navbarLinks.forEach(link => {
      link.addEventListener('click', () => {
        if (navbarMenu.classList.contains('active')) {
          navbarMenu.classList.remove('active');
          mobileMenu.classList.remove('active');
        }
      });
    });

    // Example JavaScript for Modal (Edit Issue)
    function openModal(issueId) {
      // Fetch issue data based on issueId and populate the form
      // For demonstration, we'll use dummy data
      document.getElementById('editIssueId').value = issueId;
      document.getElementById('editIssueTitle').value = "Sample Bug Title";
      document.getElementById('editIssueDescription').value = "Sample bug description...";
      document.getElementById('editIssueSeverity').value = "High";
      document.getElementById('editIssuePriority').value = "Medium";
      document.getElementById('editIssueSteps').value = "1. Step one\n2. Step two";
      document.getElementById('editIssueEnvironment').value = "Windows 10, Chrome 89";
      document.getElementById('editIssueAssignedTo').value = "John Doe";
      document.getElementById('editIssueStatus').value = "Open";

      // Display the modal
      document.getElementById('editModal').style.display = 'flex';
    }

    function closeModal() {
      document.getElementById('editModal').style.display = 'none';
    }

    // Close modal when clicking outside of the modal content
    window.onclick = function(event) {
      const modal = document.getElementById('editModal');
      if (event.target == modal) {
        modal.style.display = 'none';
      }
    }

    // Placeholder functions for search and filter
    function searchIssues() {
      // Implement search functionality
      console.log('Search triggered');
    }

    function filterIssues() {
      // Implement filter functionality
      console.log('Filter triggered');
    }

    // Example function to populate Assigned To filter dynamically
    function populateAssignedToFilter() {
      const filterAssignedTo = document.getElementById('filterAssignedTo');
      // Example data; in a real app, fetch this from the database
      const assignees = ['John Doe', 'Jane Smith', 'Alice Johnson'];
      assignees.forEach(assignee => {
        const option = document.createElement('option');
        option.value = assignee;
        option.textContent = assignee;
        filterAssignedTo.appendChild(option);
      });
    }

    // Initialize the Assigned To filter on page load
    window.onload = function() {
      populateAssignedToFilter();
      populateDashboard();
    };

    // Function to populate dashboard with sample data
    function populateDashboard() {
      // Example data; in a real app, fetch this from the database
      const totalBugs = 50;
      const openBugs = 20;
      const inProgressBugs = 15;
      const resolvedBugs = 15;

      document.getElementById('totalBugs').textContent = totalBugs;
      document.getElementById('openBugs').textContent = openBugs;
      document.getElementById('inProgressBugs').textContent = inProgressBugs;
      document.getElementById('resolvedBugs').textContent = resolvedBugs;
    }
    // Dark Mode Toggle
const darkModeToggle = document.getElementById('darkModeToggle');
darkModeToggle.addEventListener('change', () => {
  document.body.classList.toggle('dark-mode', darkModeToggle.checked);
  // Save dark mode preference
  localStorage.setItem('darkMode', darkModeToggle.checked);
});

// Load dark mode preference on page load
window.onload = function() {
  populateAssignedToFilter();
  populateDashboard();
  loadSettings();
};

// Mobile Menu Toggle
const mobileMenu = document.getElementById('mobile-menu');
const navbarMenu = document.querySelector('.navbar-menu');

mobileMenu.addEventListener('click', () => {
  navbarMenu.classList.toggle('active');
  mobileMenu.classList.toggle('active');
});

// Close mobile menu when a link is clicked
const navbarLinks = document.querySelectorAll('.navbar-link');
navbarLinks.forEach(link => {
  link.addEventListener('click', () => {
    if (navbarMenu.classList.contains('active')) {
      navbarMenu.classList.remove('active');
      mobileMenu.classList.remove('active');
    }
  });
});

// Example JavaScript for Modal (Edit Issue)
function openModal(issueId) {
  // Fetch issue data based on issueId and populate the form
  // For demonstration, we'll use dummy data
  document.getElementById('editIssueId').value = issueId;
  document.getElementById('editIssueTitle').value = "Sample Bug Title";
  document.getElementById('editIssueDescription').value = "Sample bug description...";
  document.getElementById('editIssueSeverity').value = "High";
  document.getElementById('editIssuePriority').value = "Medium";
  document.getElementById('editIssueSteps').value = "1. Step one\n2. Step two";
  document.getElementById('editIssueEnvironment').value = "Windows 10, Chrome 89";
  document.getElementById('editIssueAssignedTo').value = "John Doe";
  document.getElementById('editIssueStatus').value = "Open";

  // Display the modal
  document.getElementById('editModal').style.display = 'flex';
}

function closeModal() {
  document.getElementById('editModal').style.display = 'none';
}

// Close modal when clicking outside of the modal content
window.onclick = function(event) {
  const modal = document.getElementById('editModal');
  if (event.target == modal) {
    modal.style.display = 'none';
  }
}

// Placeholder functions for search and filter
function searchIssues() {
  // Implement search functionality
  console.log('Search triggered');
}

function filterIssues() {
  // Implement filter functionality
  console.log('Filter triggered');
}

// Example function to populate Assigned To filter dynamically
function populateAssignedToFilter() {
  const filterAssignedTo = document.getElementById('filterAssignedTo');
  // Example data; in a real app, fetch this from the database
  const assignees = ['John Doe', 'Jane Smith', 'Alice Johnson'];
  assignees.forEach(assignee => {
    const option = document.createElement('option');
    option.value = assignee;
    option.textContent = assignee;
    filterAssignedTo.appendChild(option);
  });
}

// Function to populate dashboard with sample data
function populateDashboard() {
  // Example data; in a real app, fetch this from the database
  const totalBugs = 50;
  const openBugs = 20;
  const inProgressBugs = 15;
  const resolvedBugs = 15;

  document.getElementById('totalBugs').textContent = totalBugs;
  document.getElementById('openBugs').textContent = openBugs;
  document.getElementById('inProgressBugs').textContent = inProgressBugs;
  document.getElementById('resolvedBugs').textContent = resolvedBugs;
}

// Handle Settings Form Submission
const settingsForm = document.getElementById('settingsForm');
settingsForm.addEventListener('submit', function(event) {
  event.preventDefault(); // Prevent form from submitting traditionally

  const username = document.getElementById('username').value.trim();
  const email = document.getElementById('email').value.trim();

  if (username && email) {
    // Save to LocalStorage
    localStorage.setItem('username', username);
    localStorage.setItem('email', email);

    // Optionally, provide feedback to the user
    alert('Settings saved successfully!');
  } else {
    alert('Please fill in both fields.');
  }
});

// Load Settings from LocalStorage
function loadSettings() {
  const savedUsername = localStorage.getItem('username');
  const savedEmail = localStorage.getItem('email');
  const darkMode = JSON.parse(localStorage.getItem('darkMode'));

  if (savedUsername) {
    document.getElementById('username').value = savedUsername;
  }

  if (savedEmail) {
    document.getElementById('email').value = savedEmail;
  }

  if (darkMode) {
    darkModeToggle.checked = true;
    document.body.classList.add('dark-mode');
  }
}

  </script>
</body>

</html>
